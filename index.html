<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Monitor LED</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; margin-top: 50px; background-color: #f0f0f0; }
        .caja { background: white; padding: 40px; border-radius: 15px; display: inline-block; box-shadow: 0 4px 8px rgba(0,0,0,0.2); }
        h1 { color: #333; }
        #estado-texto { font-size: 60px; font-weight: bold; color: gray; }
    </style>
</head>
<body>

    <div class="caja">
        <h1>Estado del Sistema</h1>
        <div id="estado-texto">Esperando...</div>
    </div>

    <script>
        // --- AQUÍ ES DONDE DEBES HACER EL CAMBIO ---
        const configuracion = {
            databaseURL: "https://control-led-joel-default-rtdb.firebaseio.com/"
        };
        // ---------------------------------------------

        firebase.initializeApp(configuracion);

        // Esto busca la palabra "estado" dentro de tu base de datos
        // Nota: Coincide con lo que pusiste en App Inventor (.../estado.json)
        var referencia = firebase.database().ref('estado');

        referencia.on('value', (snapshot) => {
            const valor = snapshot.val();
            const elemento = document.getElementById('estado-texto');
            
            if (valor) {
                elemento.innerText = valor;
                
                // Cambiar color según el texto
                if(valor == "Encendido") {
                    elemento.style.color = "green";
                } else if (valor == "Apagado") {
                    elemento.style.color = "red";
                }
            }
        });
    </script>

</body>
</html>
